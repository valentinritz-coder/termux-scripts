=== START Wed Dec 31 08:47:07 CET 2025 ===
LOG=/sdcard/cfl_watch/logs/map_verbose_2025-12-31_08-47-07.log
TERMUX_PATH=/data/data/com.termux/files/usr/bin
UID=uid=10208(u0_a208) gid=10208(u0_a208) groups=10208(u0_a208),3003(inet),9997(everybody),20208(u0_a208_cache),50208(all_a208) context=u:r:untrusted_app_27:s0:c208,c256,c512,c768

[*] Before launch focus:

[*] Launching CFL with /system/bin/monkey (non-root)...
  bash arg: -p
  bash arg: de.hafas.android.cfl
  bash arg: -c
  bash arg: android.intent.category.LAUNCHER
  bash arg: 1
/system/bin/monkey: line 10: exec: app_process: not found
[!] monkey failed rc=127

[*] After launch focus:

[*] Running mapper (no-launch)...
+ set -euo pipefail
+ PKG=de.hafas.android.cfl
+ OUT_BASE=/sdcard/cfl_watch/map
+ DEPTH=2
+ MAX_SCREENS=80
+ MAX_ACTIONS=10
+ DELAY=1.2
+ LAUNCH=1
+ '[' 7 -gt 0 ']'
+ case "$1" in
+ LAUNCH=0
+ shift
+ '[' 6 -gt 0 ']'
+ case "$1" in
+ DEPTH=1
+ shift 2
+ '[' 4 -gt 0 ']'
+ case "$1" in
+ MAX_SCREENS=10
+ shift 2
+ '[' 2 -gt 0 ']'
+ case "$1" in
+ MAX_ACTIONS=5
+ shift 2
+ '[' 0 -gt 0 ']'
++ now_ts
++ date +%Y-%m-%d_%H-%M-%S
+ MAP_DIR=/sdcard/cfl_watch/map/2025-12-31_08-47-08
+ mkdir -p /sdcard/cfl_watch/map/2025-12-31_08-47-08/screens /sdcard/cfl_watch/map/2025-12-31_08-47-08/tmp
+ VISITED=/sdcard/cfl_watch/map/2025-12-31_08-47-08/visited.txt
+ COUNT_FILE=/sdcard/cfl_watch/map/2025-12-31_08-47-08/count.txt
+ echo 0
+ :
+ echo '[*] map_dir=/sdcard/cfl_watch/map/2025-12-31_08-47-08'
[*] map_dir=/sdcard/cfl_watch/map/2025-12-31_08-47-08
+ echo '[*] pkg=de.hafas.android.cfl depth=1 max_screens=10 max_actions=5 delay=1.2 launch=0'
[*] pkg=de.hafas.android.cfl depth=1 max_screens=10 max_actions=5 delay=1.2 launch=0
+ '[' 0 -eq 1 ']'
+ explore 1
+ local depth=1
+ local count
++ cat /sdcard/cfl_watch/map/2025-12-31_08-47-08/count.txt
+ count=0
+ '[' 0 -ge 10 ']'
+ local focus
++ get_focus_pkg
++ run_root 'dumpsys window windows | grep -E '\''mCurrentFocus|mFocusedApp'\'' -m 1'
++ sed -n 's/.* \([a-zA-Z0-9_.]\+\)\/.*/\1/p'
++ head -n 1
++ true
+ focus=
+ '[' -n '' ']'
+ local tmp_xml=/sdcard/cfl_watch/map/2025-12-31_08-47-08/tmp/current.xml
+ local tmp_png=/sdcard/cfl_watch/map/2025-12-31_08-47-08/tmp/current.png
+ capture_screen /sdcard/cfl_watch/map/2025-12-31_08-47-08/tmp/current.xml /sdcard/cfl_watch/map/2025-12-31_08-47-08/tmp/current.png
+ local out_xml=/sdcard/cfl_watch/map/2025-12-31_08-47-08/tmp/current.xml
+ local out_png=/sdcard/cfl_watch/map/2025-12-31_08-47-08/tmp/current.png
+ run_root 'uiautomator dump --compressed '\''/sdcard/cfl_watch/map/2025-12-31_08-47-08/tmp/current.xml'\'''
+ run_root 'screencap -p '\''/sdcard/cfl_watch/map/2025-12-31_08-47-08/tmp/current.png'\'''
+ return 0
+ local h
++ hash_screen /sdcard/cfl_watch/map/2025-12-31_08-47-08/tmp/current.xml
++ local xml=/sdcard/cfl_watch/map/2025-12-31_08-47-08/tmp/current.xml
++ python - /sdcard/cfl_watch/map/2025-12-31_08-47-08/tmp/current.xml
+ h=548dfb059e6f30b1d9fcbbde8641918b9657fbfe
+ grep -qx 548dfb059e6f30b1d9fcbbde8641918b9657fbfe /sdcard/cfl_watch/map/2025-12-31_08-47-08/visited.txt
+ echo 548dfb059e6f30b1d9fcbbde8641918b9657fbfe
+ count=1
+ echo 1
+ local scr_dir=/sdcard/cfl_watch/map/2025-12-31_08-47-08/screens/548dfb059e6f30b1d9fcbbde8641918b9657fbfe
+ mkdir -p /sdcard/cfl_watch/map/2025-12-31_08-47-08/screens/548dfb059e6f30b1d9fcbbde8641918b9657fbfe
+ cp -f /sdcard/cfl_watch/map/2025-12-31_08-47-08/tmp/current.xml /sdcard/cfl_watch/map/2025-12-31_08-47-08/screens/548dfb059e6f30b1d9fcbbde8641918b9657fbfe/ui.xml
+ cp -f /sdcard/cfl_watch/map/2025-12-31_08-47-08/tmp/current.png /sdcard/cfl_watch/map/2025-12-31_08-47-08/screens/548dfb059e6f30b1d9fcbbde8641918b9657fbfe/screen.png
+ echo hash=548dfb059e6f30b1d9fcbbde8641918b9657fbfe
+ echo count=1
+ echo depth=1
++ get_focus_pkg
++ run_root 'dumpsys window windows | grep -E '\''mCurrentFocus|mFocusedApp'\'' -m 1'
++ sed -n 's/.* \([a-zA-Z0-9_.]\+\)\/.*/\1/p'
++ head -n 1
++ true
+ echo focus_pkg=
+ echo
+ run_root 'dumpsys window windows | grep -E '\''mCurrentFocus|mFocusedApp'\'' -m 2'
+ true
+ echo '[+] screen#1 hash=548dfb059e6f30b1d9fcbbde8641918b9657fbfe depth=1'
[+] screen#1 hash=548dfb059e6f30b1d9fcbbde8641918b9657fbfe depth=1
+ '[' 1 -le 0 ']'
+ local actions_file=/sdcard/cfl_watch/map/2025-12-31_08-47-08/screens/548dfb059e6f30b1d9fcbbde8641918b9657fbfe/actions.txt
+ list_actions /sdcard/cfl_watch/map/2025-12-31_08-47-08/screens/548dfb059e6f30b1d9fcbbde8641918b9657fbfe/ui.xml 5
+ local xml=/sdcard/cfl_watch/map/2025-12-31_08-47-08/screens/548dfb059e6f30b1d9fcbbde8641918b9657fbfe/ui.xml
+ local max_actions=5
+ python - /sdcard/cfl_watch/map/2025-12-31_08-47-08/screens/548dfb059e6f30b1d9fcbbde8641918b9657fbfe/ui.xml 5
+ local i=0
+ IFS=$'\t'
+ read -r x y label
+ echo

++ tr -d ' '
++ wc -l
+ echo '[*] Done. Visited screens: 1'
[*] Done. Visited screens: 1
+ echo '[*] Output: /sdcard/cfl_watch/map/2025-12-31_08-47-08'
[*] Output: /sdcard/cfl_watch/map/2025-12-31_08-47-08

=== END Wed Dec 31 08:47:25 CET 2025 ===
